<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>鏡像をうつす</title>
<link rel="stylesheet" href="style.css" />
<link rel="icon" type="image/png" href="./images/favicon.png">
</head>
<body>
<input type="checkbox" id="menu-toggle">
<label for="menu-toggle" class="menu-button">
	<span></span>
</label>
<input type="checkbox" id="menu-toggle">
<label for="menu-toggle" class="menu-button">
</label>

<nav class="menu-nav">
	<ul>
		<li><a href="index.html">Home</a></li>
		<li><a href="about.html">About</a></li>
		<li><a href="concept.html">Concept</a></li>
		<li><a href="artworks.html">Artworks</a></li>
		<li><a href="contact.html">Contact</a></li>
		<li>
			<a href="https://www.(xx)instagram.com/reflecting_mirror_image" target=”_blank”>
			<img src="./images/Instagram_Glyph_Black.svg" alt="画像1の説明文" class="instagram_icon">
			</a>
		</li>
	</ul>
</nav>
<main class="page">
	<img id="slideshowImage" src="animation/001.png" alt="スライドショー画像" class="slideshow">
	<div class="footer-text">
		<a href="contact.html" class="footer_fadein">&copy; 2025 鏡像をうつす</a>
	</div>
</main>
<script>
// ドキュメントが完全に読み込まれた後に実行
document.addEventListener('DOMContentLoaded', () => {
    const menuButton = document.querySelector('.menu-button');
    setTimeout(() => {
        menuButton.classList.add('visible');
    }, 1000);

    const slideshowImage = document.getElementById('slideshowImage');
    const images = [
        'images/animation/001.png', // このパスはあなたのサーバー構成に合わせて修正してください
        'images/animation/002.png',
        'images/animation/003.png',
        'images/animation/004.png',
        'images/animation/005.png',
        'images/animation/006.png',
        'images/animation/007.png',
        'images/animation/008.png',
        'images/animation/009.png',
        'images/animation/010.png',
        'images/animation/011.png',
        'images/animation/012.png',
        'images/animation/013.png',
        'images/animation/014.png',
        'images/animation/015.png',
        'images/animation/016.png',
        'images/animation/017.png',
        'images/animation/018.png',
        'images/animation/019.png',
        'images/animation/020.png',
        'images/animation/021.png',
        'images/animation/022.png',
        'images/animation/023.png',
        'images/animation/024.png',
        'images/animation/025.png',
        'images/animation/026.png',
        'images/animation/027.png',
        'images/animation/028.png',
        'images/animation/029.png',
        'images/animation/030.png',
        'images/animation/031.png',
        'images/animation/032.png',
        'images/animation/033.png',
        'images/animation/034.png',
        'images/animation/035.png',
        'images/animation/036.png',
        'images/animation/037.png',
        'images/animation/038.png',
        'images/animation/039.png',
        'images/animation/040.png'
    ];
    let currentIndex = 0;

    // 画像をプリロードする関数
    function preloadImages(imageArray, callback) {
        let loadedCount = 0;
        const totalImages = imageArray.length;
        
        imageArray.forEach(imagePath => {
            const img = new Image();
            img.onload = () => {
                loadedCount++;
                if (loadedCount === totalImages) {
                    callback();
                }
            };
            img.onerror = () => {
                // エラー発生時もカウントを進める
                console.error(`画像の読み込みに失敗しました: ${imagePath}`);
                loadedCount++;
                if (loadedCount === totalImages) {
                    callback();
                }
            };
            img.src = imagePath;
        });
    }

    // すべての画像を読み込んでからスライドショーを開始
    preloadImages(images, () => {
        // 最初の画像をセット
        slideshowImage.src = images[0];

        // 1秒ごとに画像を変更する処理
        const slideshowInterval = setInterval(() => {
            currentIndex++;
            if (currentIndex >= images.length) {
                clearInterval(slideshowInterval);
                return;
            }
            slideshowImage.src = images[currentIndex];
        }, 30);
    });
});
</script>
</body>
</html>
